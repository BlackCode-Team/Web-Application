{% extends 'base.html.twig' %}

     {%block title %} <title>Profil</title> {%endblock%}

      {%block css%} 
      <link rel="stylesheet" href="{{asset('Login/css/profil.css')}}"> 
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css">
      {%endblock%}
      

{%block body%}      
<body> 
<div class="container rounded  mt-5 mb-5" >
    <div class="row">
        <div class="col-md-3 border-right">
            <div class="d-flex flex-column align-items-center text-center p-3 py-5"><img class="rounded-circle mt-5" width="150px" src="https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg"><span class="font-weight-bold">{{ utilisateur.nom }} {{ utilisateur.prenom }}</span><span class="text-black-50">{{ utilisateur.email }}</span><span> </span></div>
            
        </div>
        <div class="col-md-5 border-right">
            <div class="p-3 py-5">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="text-right">Profil Settings</h4>
                </div>
                <div class="row mt-2" >
               {{ form_start(form, {'attr': {'class': 'my-form-class'}}) }}
                    <div class="col-md-6 form-group">
                   {{form_label(form.nom,"Nom")}}
                   {{form_widget(form.nom)}}
                   {{form_errors(form.nom)}}
                    </div>
                    <div class="col-md-6 form-group">
                    {{form_label(form.prenom,"Prenom")}}
                    {{form_widget(form.prenom)}}
                    {{form_errors(form.prenom)}}
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-12 form-group">
                    {{form_label(form.email,"Email")}}
                    {{form_widget(form.email)}}
                    {{form_errors(form.email)}}
                    </div>
                    <div class="col-md-12 form-group">
                    {{form_label(form.cin,"CIN")}}
                    {{form_widget(form.cin)}}
                    {{form_errors(form.cin)}}
                    </div>
                    <div class="col-md-12 form-group">
                    {{form_label(form.permis,"Permis")}}
                    {{form_widget(form.permis)}}
                    {{form_errors(form.permis)}}
                    </div>
                    
                    <div class="col-md-12 form-group">
                    {{form_label(form.pwd,"Password")}}
                    {{form_widget(form.pwd)}}
                    {{form_errors(form.pwd)}}
                    </div>
                    
                </div>
                <div>
                <a class="btn btn-primary btn-sm" href="{{ path('profil_edit', {'iduser': utilisateur.iduser}) }}">Enregistrer</a>
                </div>
            </div>
        </div>
        {{ form_end(form) }}
        <div class="col-md-4">
                {% if utilisateur.Nbpoint < 20 %}
                    <img src="{{ asset('images/medaille-de-bronze.png') }}" alt="badge bronze" width="150" height="150">
                {% elseif utilisateur.Nbpoint >= 20 and utilisateur.Nbpoint < 50 %}
                    <img src="{{ asset('images/badge-de-bouclier.png') }}" alt="badge silver" width="150" height="150">
                {% elseif utilisateur.Nbpoint >= 50 and utilisateur.Nbpoint < 200 %}
                    <img src="{{ asset('images/badge.png') }}" alt="badge gold" width="150" height="150">
                {% else %}
                    <img src="{{ asset('images/diamant.png') }}" alt="badge diamond" width="150" height="150">
                {% endif %}

                <p>{{ utilisateur.Nbpoint }} points</p>


        </div>   
    </div>
</div>
</div>
</div>
{%block js%}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  
  <script>
    document.addEventListener("DOMContentLoaded", function() {
        var forms = document.getElementsByTagName('form');
        for (var i = 0; i < forms.length; i++) {
            forms[i].setAttribute('novalidate', true);
        }
    });
</script>
{%endblock%}
</body>
{%endblock%}
